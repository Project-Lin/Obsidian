---
tags:
  - csharp
  - "#ThreadPool"
up: "[[專案/獨立遊戲之路/CSharp/C编程-第四季-高级篇-宇宙最简单2022最新版/Thread]]"
date: 2024-03-29T15:32:00
課程: "[[C编程-第四季-高级篇-宇宙最简单2022最新版|C编程-第四季-高级篇-宇宙最简单2022最新版]]"
---

> [!NOTE] 線程池
> 1. 線程池中所有線程都是後台線程，不能改成前台
> 2. 不能設定優先級或名稱
> 3..只能用於時間較短的任務，若要一直運行就應該創建一個單獨的線程

```csharp file:Program
namespace _19_線程池
{
    internal class Program
    {
        static void Main(string[] args)
        {
            for (int i = 0; i < 10; i++)
            {
                ThreadPool.QueueUserWorkItem(Download);
            }
            
            //線程池是後台執行緒 所以主線程要等一下 不然會直接結束
            Thread.Sleep(5000);
        }

        static void Download(object state)
        {
            for (int i = 0; i < 3; i++)
            {
                Console.WriteLine(
                "下載開始"+Thread.CurrentThread.ManagedThreadId);
                
                Thread.Sleep(100);
            }
            
        }
    }
}

```