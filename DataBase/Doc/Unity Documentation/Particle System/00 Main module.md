---
tags:
  - Unity
  - "#Doc"
  - "#Particle"
aliases:
  - 粒子系統
Home: "[[Unity Manual]]"
Previous: 
next:
---
##   主要模組

粒子系統模組包含影響整個系統的全域屬性。這些屬性大多控制新創建粒子的初始狀態。要展開或折疊主要模組，請在屬性檢視器中點擊粒子系統欄。

![[Pasted image 20240402160509.png]]

模組的名稱顯示在檢視器中，作為粒子系統附加到的遊戲物件的名稱。

### 使用主要模組

此模組是粒子系統組件的一部分。當您創建一個新的粒子系統遊戲物件，或將粒子系統組件添加到現有的遊戲物件時，Unity 會將主要模組嵌入粒子系統中。要創建一個新的粒子系統：

1. 點擊 GameObject > Effects > Particle System。
2. 在屬性檢視器中，找到粒子系統組件。
3. 主要模組的屬性出現在粒子系統組件的頂部。

### API

由於此模組是粒子系統組件的一部分，您可以通過 ParticleSystem 類訪問它。有關如何在運行時訪問它並更改值的信息，請參閱[主要模組 API 文檔](https://docs.unity3d.com/2023.2/Documentation/ScriptReference/ParticleSystem-main.html)。

### 屬性

對於此部分的某些屬性，您可以使用不同的模式來設置它們的值。有關您可以使用的模式的信息，請參閱隨時間變化的屬性。

| 屬性（Property）               | 功能（Function）                                                                                                                |
| -------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| 持續時間（Duration）             | 系統運行的時間長度。                                                                                                                  |
| 循環（Looping）                | 如果啟用，系統會在其持續時間結束時重新啟動並繼續重複週期。                                                                                               |
| 預熱（Prewarm）                | 如果啟用，系統會初始化，就好像它已經完成了一個完整的週期（僅在循環也啟用時有效）。                                                                                   |
| 開始延遲（Start Delay）          | 啟用後，在系統開始發射前的延遲時間（以秒為單位）。                                                                                                   |
| 開始壽命（Start Lifetime）       | 粒子的初始壽命。                                                                                                                    |
| 開始速度（Start Speed）          | 每個粒子在適當方向上的初始速度。                                                                                                            |
| 3D 開始尺寸（3D Start Size）     | 如果要分別控制每個軸的大小，請啟用此選項。                                                                                                       |
| 開始尺寸（Start Size）           | 每個粒子的初始大小。                                                                                                                  |
| 3D 開始旋轉（3D Start Rotation） | 如果要分別控制每個軸的旋轉，請啟用此選項。                                                                                                       |
| 開始旋轉（Start Rotation）       | 每個粒子的初始旋轉角度。                                                                                                                |
| 翻轉旋轉（Flip Rotation）        | 導致一些粒子以相反方向旋轉。                                                                                                              |
| 開始顏色（Start Color）          | 每個粒子的初始顏色。                                                                                                                  |
| 重力修飾器（Gravity Modifier）    | 縮放在物理視窗中設定的重力值。如果值為零，則將重力關閉。                                                                                                |
| 模擬空間（Simulation Space）     | 控制粒子是在父物件的本地空間中（因此與父物件一起移動），在世界空間中，還是相對於自定義物件（與您選擇的自定義物件一起移動）。                                                              |
| 模擬速度（Simulation Speed）     | 調整整個系統更新速度。                                                                                                                 |
| 時間增量（Delta Time）           | 選擇縮放和未縮放之間，縮放使用時間視窗中的時間比例值，未縮放忽略它。這對於顯示在暫停菜單上的粒子系統很有用。                                                                      |
| 縮放模式（Scaling Mode）         | 選擇如何使用變換的縮放。設置為層次結構、本地或形狀。本地僅應用粒子系統的變換縮放，忽略任何父物件。形狀模式將縮放應用到粒子的起始位置，但不影響它們的大小。                                               |
| 自動播放（Play on Awake）        | 如果啟用，則在創建對象時，粒子系統將自動啟動。                                                                                                     |
| 發射器速度（Emitter Velocity）    | 選擇粒子系統計算的速度，該速度由繼承速度和發射模組使用。系統可以使用 Rigidbody 組件（如果存在）計算速度，或者通過跟踪 Transform 組件的運動。如果沒有 Rigidbody 組件存在，則系統默認使用其 Transform 組件。 |
|                            |                                                                                                                             |

### 屬性詳細資訊

系統會在特定持續時間內發射粒子，並且可以使用“循環（Looped）”屬性設置連續發射。這允許您將粒子設置為間歇性或連續發射；例如，一個物體可以以短暫的爆發或穩定的流出來發出煙霧。

“起始（Start）”屬性（壽命、速度、大小、旋轉和顏色）指定粒子發射時的狀態。您可以使用“3D 開始尺寸（3D Start Size）”屬性獨立指定粒子的寬度、高度和深度（請參見下面的“非均勻粒子縮放”）。

所有粒子系統都使用在物理設置中指定的相同重力向量。重力倍增器值可用於調整重力，或者如果設置為零則將其關閉。


### 非均勻粒子縮放

“3D 開始尺寸（3D Start Size）”屬性允許您獨立指定粒子的寬度、高度和深度。在粒子系統主模塊中，勾選“3D 開始尺寸”選框，並輸入粒子的初始 x（寬度）、y（高度）和 z（深度）值。請注意，z（深度）僅適用於 3D 網格粒子。您還可以為這些屬性設置隨機值，在兩個常數或曲線之間設置一個範圍。

您可以在粒子系統主模塊中設置粒子的初始大小，在“粒子壽命大小（Size over Lifetime）”模塊中使用“分離軸（Separate Axes）”選項設置粒子的壽命內大小。您還可以在“速度大小（Size by Speed）”模塊中使用“分離軸（Separate Axes）”選項根據其速度設置粒子的大小。



### 模擬空間（Simulation Space）

“模擬空間（Simulation Space）”屬性確定粒子是與粒子系統父對象、自定義對象還是在遊戲世界中獨立移動。例如，像雲、軟管和火焰噴射器這樣的系統需要獨立於它們的父遊戲對象設置，因為它們往往會留下在世界空間中持續存在的軌跡，即使生成它們的對象在移動。另一方面，如果粒子用於在兩個電極之間創建火花，則粒子應該隨著父對象移動而移動。如果要對粒子如何跟隨其變換進行更高級別的控制，請參閱“繼承速度（Inherit Velocity）”模塊的文檔。

當設置為“自定義（Custom）”時，粒子不再相對於自己的 Transform 組件移動。相反，它們全部相對於指定的 Transform 組件的運動移動。粒子系統使用自定義變換來計算發射器速度，這是“繼承速度（Inherit Velocity）”模塊和“發射量距離（Rate over Distance）”屬性使用的粒子速度和發射的控制。